# 数据库设计

## 1.assignlog(派车日志)

| 字段       | 类型    | 不为null |
| ---------- | ------- | -------- |
| assignId   | varchar | 1        |
| lincense   | varchar | 1        |
| time       | varchar | 1        |
| driveId    | varchar | 1        |
| driveName  | varchar | 1        |
| manageId   | varchar | 1        |
| manageName | varchar | 1        |
| vetId      | varchar | 0        |
| vetName    | varchar | 0        |

```sql
CREATE TABLE `assignlog` (
  `assignId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '派车单id',
  `license` varchar(255) NOT NULL COMMENT '派遣车辆车牌',
  `time` datetime NOT NULL COMMENT '派遣时间',
  `driveId` varchar(255) NOT NULL COMMENT '派遣人员id',
  `driveName` varchar(255) NOT NULL COMMENT '派遣人员name',
  `manageId` varchar(255) NOT NULL COMMENT '管理员id',
  `manageName` varchar(255) NOT NULL COMMENT '管理员name',
  `vetId` varchar(255) DEFAULT NULL COMMENT '审批人id',
  `vetName` varchar(255) DEFAULT NULL COMMENT '审批人name',
  PRIMARY KEY (`assignId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 2.drivelog(行车日志)

| 字段  | 类型     | 不为null |
| ----- | -------- | -------- |
| id    | varchar  | 1        |
| name  | varchar  | 1        |
| start | datetime | 1        |
| end   | datetime | 0        |

```sql
CREATE TABLE `drivelog` (
  `id` varchar(255) NOT NULL COMMENT '行车人员id',
  `name` varchar(255) NOT NULL COMMENT '行车人员name',
  `start` datetime NOT NULL COMMENT '行车开始时间',
  `end` date DEFAULT NULL COMMENT '行车结束时间'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 3.employee(员工)

| 字段   | 类型    | 不为null |
| ------ | ------- | -------- |
| id     | varchar | 1        |
| name   | varchar | 1        |
| job    | varchar | 1        |
| wechat | varchar | 0        |

```sql
CREATE TABLE `employee` (
  `id` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `job` varchar(255) NOT NULL,
  `wechat` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 4.lendlog(出借日志)

| 字段          | 类型     | 不为null |
| ------------- | -------- | -------- |
| lendId        | varchar  | 1        |
| msg           | varchar  | 0        |
| lendVetId     | varchar  | 1        |
| lendVetName   | varchar  | 1        |
| start         | datetime | 1        |
| end           | datetime | 0        |
| returnVetId   | varchar  | 0        |
| returnVetName | varchat  | 0        |

```sql
CREATE TABLE `lendlog` (
  `lendId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '出借单id',
  `msg` varchar(255) DEFAULT NULL COMMENT '出借说明',
  `lendVetId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '出借审批员id',
  `lendVetName` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '出借审批员name',
  `start` datetime NOT NULL COMMENT '出借时间',
  `end` datetime DEFAULT NULL COMMENT '归还时间',
  `returnVetId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '归还审批员id',
  `returnVetName` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '归还审批员name',
  PRIMARY KEY (`lendId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 5.protectlog(保养日志)

| 字段      | 类型     | 不为null |
| --------- | -------- | -------- |
| protectId | varchar  | 1        |
| license   | varchar  | 1        |
| time      | datetime | 1        |
| id        | varchar  | 1        |
| name      | varchar  | 1        |

```sql
CREATE TABLE `protectlog` (
  `protectId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '保养单id',
  `lincense` varchar(255) NOT NULL,
  `time` datetime NOT NULL COMMENT '保养时间',
  `id` varchar(255) NOT NULL COMMENT '管理员id',
  `name` varchar(255) NOT NULL COMMENT '管理员name',
  PRIMARY KEY (`protectId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 6.punishlog(惩罚日志)

| 字段     | 类型     | 不为null |
| -------- | -------- | -------- |
| punishId | varchar  | 1        |
| id       | varchar  | 1        |
| name     | varchar  | 1        |
| time     | datetime | 1        |
| msg      | varchar  | 1        |
| punish   | varchar  | 1        |

```sql
CREATE TABLE `punishlog` (
  `punishId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '罚单id',
  `id` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `time` datetime NOT NULL COMMENT '违规发生时间',
  `msg` varchar(255) NOT NULL COMMENT '交通惩罚说明',
  `punish` double NOT NULL COMMENT '罚款金额',
  PRIMARY KEY (`punishId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 7.repairlog(维修日志)

| 字段       | 类型     | 不为null |
| ---------- | -------- | -------- |
| repairId   | varchar  | 1        |
| license    | varchar  | 1        |
| reportId   | varchar  | 1        |
| reportName | varchar  | 1        |
| reportTime | datetime | 1        |
| vetId      | varchar  | 0        |
| vetName    | varchar  | 0        |
| vetTime    | datetime | 0        |

```sql
CREATE TABLE `repairlog` (
  `repairId` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '维修单id',
  `license` varchar(255) NOT NULL COMMENT '需要维修的车辆',
  `reportId` varchar(255) NOT NULL COMMENT '申报人员id',
  `reportName` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '申报人员name',
  `reportTime` datetime NOT NULL COMMENT '维修申报时间',
  `vetId` varchar(255) DEFAULT NULL COMMENT '维修人员id',
  `vetName` varchar(255) DEFAULT NULL COMMENT '维修人员name',
  `vetTime` datetime DEFAULT NULL COMMENT '维修审批时间',
  PRIMARY KEY (`repairId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 8.vehicle(车辆)

| 字段    | 类型     | 不为null |
| ------- | -------- | -------- |
| license | varchar  | 1        |
| status  | int      | 1        |
| begin   | datetime | 1        |
| end     | datetime | 0        |

```sql
CREATE TABLE `vehicle` (
  `license` varchar(255) NOT NULL COMMENT '车牌号',
  `status` int NOT NULL COMMENT '车辆状态 0代表待用 1代表出行 2代表维修',
  `begin` datetime NOT NULL COMMENT '入厂时间',
  `end` datetime DEFAULT NULL COMMENT '弃用时间',
  PRIMARY KEY (`license`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 9.violationlog(违规日志)

| 字段    | 类型     | 不为null |
| ------- | -------- | -------- |
| license | varchar  | 1        |
| msg     | varchar  | 1        |
| time    | datetime | 1        |
| id      | varchar  | 1        |
| name    | varchar  | 1        |

```sql
CREATE TABLE `violationlog` (
  `license` varchar(255) NOT NULL,
  `msg` varchar(255) NOT NULL,
  `time` datetime NOT NULL,
  `id` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

## 10.workinglog(行驶日志)

| 字段        | 类型     | 不为null |
| ----------- | -------- | -------- |
| license     | varchar  | 1        |
| start       | datetime | 1        |
| end         | datetime | 0        |
| id          | varchar  | 1        |
| name        | varchar  | 1        |
| firstPoint  | varchar  | 0        |
| secondPoint | varchar  | 0        |

